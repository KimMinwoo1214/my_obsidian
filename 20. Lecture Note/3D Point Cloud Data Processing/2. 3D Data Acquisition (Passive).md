---
tags:
  - AI
  - PointCloud
  - SLAM
  - CV
aliases: 
type: lecture-note
created: 2024-07-23
reviewed: false
notices: false
summary: false
---
### **Subject**:: [[3D Point Cloud Data Processing]]
### **Week**:: 2

**이전 강의 노트**: [[1. 3D Point Cloud]]

### 강의자료: 
[[3D Data Acquisition (Passive).pdf]]

# 강의필기 (Lecture Notes)
<br>

## [[Camera]] [[Matrix]]

1. **카메라 매트릭스**:
    - 3D 포인트를 2D 이미지 포인트로 매핑하는 수학적 표현.
    *A mpping from 3D world to 2D image*
    $$
	\mathbf{x} = \mathbf{P} \mathbf{X}
	$$
	**2D image point**
	**Camera matrix**
	**3D world point**
	<br>
	
    - 호모지니어스 좌표로 표현된 3D 및 2D 포인트를 사용.
    *Generic camera*
    $$
	\begin{bmatrix}
	x \\
	y \\
	z
	\end{bmatrix}
	=
	\begin{bmatrix}
	p_1 & p_2 & p_3 & p_4 \\
	p_5 & p_6 & p_7 & p_8 \\
	p_9 & p_{10} & p_{11} & p_{12}
	\end{bmatrix}
	\begin{bmatrix}
	X \\
	Y \\
	Z \\
	1
	\end{bmatrix}
	$$
	**homogeneous image** \( 3 x 1 \)
	**Camera matrix** \( 3 x 4 \)
	**homogeneous world point** \(4 x 1\)
    - 트리바이4 (3x4) 매트릭스로 구성되어 있으며, 11개의 자유도(DOF)를 가집니다.
    - 핀홀 카메라 모델을 주로 사용하며, 이 모델에서는 포컬 렌스와 카메라 센터 간의 거리를 고려합니다.
    [[pinhole_image.png]]
    *Pinhole camera*
	$$
	\begin{bmatrix}
	x \\
	y \\
	z \\
	\end{bmatrix}
	=
	\begin{bmatrix}
	f & 0 & 0 & 0 \\
	0 & f & 0 & 0 \\
	0 & 0 & 1 & 0 \\
	\end{bmatrix}
	\begin{bmatrix}
	X \\
	Y \\
	Z \\
	1
	\end{bmatrix}
	$$
	**homogeneous image** \( 3 x 1 \)
	**Camera matrix** \( 3 x 4 \)
	**homogeneous world point** \(4 x 1\)
	[[account_for_image_origin.png]]
	*Accounts for image origin*
    $$
    \begin{bmatrix}
	x \\
	y \\
	z \\
	\end{bmatrix}
	=
	\begin{bmatrix}
	f & 0 & p_x & 0 \\
	0 & f & p_y & 0 \\
	0 & 0 & 1 & 0 \\
	\end{bmatrix}
	\begin{bmatrix}
	X \\
	Y \\
	Z \\
	1
	\end{bmatrix}
    $$
    **homogeneous image** \( 3 x 1 \)
	**Camera matrix** \(3 x 4 \)
	**(3 x 4)**
	**homogeneous world point** \(4 x 1\)
    - 매트릭스는 월드 원점과 이미지 원점을 반영하도록 디컴포즈할 수 있습니다.
    *Decomposed P*
    $$
    \begin{bmatrix}
	x \\
	y \\
	z \\
	\end{bmatrix}
	=
	\begin{bmatrix}
	f & 0 & p_x & 0 \\
	0 & f & p_y & 0 \\
	0 & 0 & 1 & 0 \\
	\end{bmatrix}
	\begin{bmatrix}
	1 & 0 & 0 | 0 \\
	0 & 1 & 0 | 0 \\
	0 & 0 & 1 | 0 \\
	\end{bmatrix}
	\begin{bmatrix}
	X \\
	Y \\
	Z \\
	1
	\end{bmatrix}
    $$
    **homogeneous image** \( 3 x 1 \)
	**\( 3 x 3\)**
	**homogeneous world point** \(4 x 1\)
	$$
    P = K[I|0]
    $$
    <br>
    
	[[account_for_world_origin.png]]
    *Accounts for world origin*    
    $$
    \begin{bmatrix}
	x \\
	y \\
	z \\
	\end{bmatrix}
	=
	\begin{bmatrix}
	f & 0 & p_x & 0 \\
	0 & f & p_y & 0 \\
	0 & 0 & 1 & 0 \\
	\end{bmatrix}
	\begin{bmatrix}
	r_1 & r_2 & r_3 | t_1 \\
	r_4 & r_5 & r_6 | t_2 \\
	r_7 & r_8 & r_9 | t_3 \\
	\end{bmatrix}
	\begin{bmatrix}
	X \\
	Y \\
	Z \\
	1
	\end{bmatrix}
    $$
    **homogeneous image** \( 3 x 1 \)
	**intrinsic parameters**
	**extrinsic parameters**
	**homogeneous world point** \(4 x 1\)
    $$
    P = K[R|t]
    $$
    

## [[Camera]] [[Calibration]]

1. **카메라 캘리브레이션**:
    - 카메라 매개변수를 추정하는 과정으로, 주로 절대 원추(IAC)를 사용합니다.
    - IAC는 실제 포인트가 없는 수학적 도구로, 이미지 상의 컴포넌트(VP, VL 등)를 제약하는 데 사용됩니다.
    - 캘리브레이션은 주로 SVD와 같은 선형 대수 기법을 사용하여 수행됩니다.

## Questions in [[Geometry]] [[Vision]]

1. **포즈 추정 (Pose Estimation)**:
    
    - 3D-2D 대응 관계를 사용하여 카메라의 위치와 방향을 추정.
    - SVD를 사용하여 카메라 센터와 인트린직 파라미터, 로테이션을 추정합니다.
2. **삼각측량 (Triangulation)**:
    
    - 2D-2D 대응 관계와 카메라 모션을 사용하여 3D 구조를 추정.
    - DLT(직접 선형 변환)와 SVD를 사용하여 근사 값을 구합니다.
3. **재구성 (Reconstruction)**:
    
    - 2D-2D 대응 관계를 통해 3D 구조와 모션을 동시에 추정.
    - 펀더멘탈 매트릭스를 계산하고 이를 통해 카메라 매트릭스와 3D 포인트를 계산합니다.

## [[Epipolar]] [[Geometry]]

1. **에피폴라 기하학**:
    - 두 이미지 간의 점 대응 관계를 설명.
    - 에피폴(소실점), 에피폴라 라인(소실선), 에피폴라 평면 등을 포함.
    - 에센셜 매트릭스(E)와 펀더멘탈 매트릭스(F)를 사용하여 이러한 관계를 수학적으로 표현합니다.

## [[Photogrammetry]]

- 포토그래매트리는 사진 이미지와 전자기파 이미지를 통해 물리적 객체와 환경에 대한 정보를 얻는 과학 및 기술입니다.
- 2D 데이터에서 3D 측정값을 추출하거나 정확한 색상 범위 및 값을 추출합니다.

## [[Stereo]] [[Vision]]

1. **스테레오 정합 (Stereo Rectification)**:
    
    - 이미지를 동일한 평면으로 정렬하여 에피폴라 라인이 수평이 되도록 만듭니다.
    - 두 3x3 호모그래피 행렬 H1, H2를 사용하여 이를 수행합니다.
2. **깊이 추정 (Depth Estimation)**:
    
    - 각 픽셀에 대해 에피폴라 라인을 찾고, 가장 잘 맞는 대응점을 찾아 깊이를 계산합니다.
    - 매칭의 유일성, 포인트 순서, 깊이 부드러움 등을 통해 깊이 추정을 개선합니다.

## N-view [[Reconstruction]]

1. **다중 뷰 재구성**:
    - 여러 뷰에서의 재구성은 카메라가 보정되었는지, K 매개변수에 대한 제약이 있는지에 따라 달라집니다.
    - 프로젝티브 재구성에서 시작하여 어파인 및 유클리드 재구성으로 이어집니다.
    - 트라이포컬 텐서 및 쿼드리포컬 텐서를 사용하여 여러 뷰의 대응 관계를 정의합니다.
    - 번들 조정 및 스파스 매트릭스 기법을 사용하여 최적의 재구성을 수행합니다.
    - 
## 공지사항
<br>



## 수업 내용


# 다음 할 일(After Actions)
## 작업 (Tasks)


## 정리 (Summary)



